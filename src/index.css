@import url("https://fonts.googleapis.com/css2?family=Silkscreen:wght@400;700&display=swap");
@import "tailwindcss";

.font-silkscreen {
  font-family: "Silkscreen", sans-serif !important;
}

.bg-surface {
  background:
    radial-gradient(
      1000px at 15% 25%,
      rgba(224, 122, 95, 0.1),
      transparent 70%
    ),
    radial-gradient(900px at 85% 75%, rgba(61, 64, 91, 0.12), transparent 70%),
    linear-gradient(
      135deg,
      rgba(224, 122, 95, 0.06) 0%,
      rgba(61, 64, 91, 0.06) 100%
    ),
    linear-gradient(180deg, #f9f9f8 0%, #ffffff 100%);
  filter: saturate(1.05) contrast(1.02);
  position: relative;
  overflow: hidden;
}

.bg-surface::after {
  content: "";
  position: absolute;
  inset: 0;
  background: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='3'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.015'/></svg>");
  background-size: cover;
  pointer-events: none;
}

@keyframes clarityFlow {
  0%,
  100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.bg-surface {
  background-size: 200% 200%;
  animation: clarityFlow 18s ease-in-out infinite;
}







/* Alternating section helpers */
.section-grad {
  /* frosted + light radial gradients behind content */
  background:
    radial-gradient(
      60% 80% at 0% 0%,
      rgba(99, 102, 241, 0.14),
      transparent 60%
    ),
    radial-gradient(
      70% 80% at 100% 0%,
      rgba(56, 189, 248, 0.14),
      transparent 60%
    ),
    linear-gradient(#ffffffcc, #ffffffc7);
  @apply border-y border-white/40 backdrop-blur-xl;
}
.section-plain {
  @apply bg-white/70 backdrop-blur-xl border-y border-white/40;
}

/* Grain overlay (SVG noise, no asset) */
.bg-noise {
  background-image: url("data:image/svg+xml;utf8,\
<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'>\
<filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/></filter>\
<rect width='100%' height='100%' filter='url(%23n)' opacity='0.035'/></svg>");
  background-size: cover;
}

html {
  scroll-behavior: smooth;
}

/* REMOVED GLOBAL TRANSITION - this was causing the glitchy behavior */

.hero-headline {
  @apply text-[36px] md:text-[60px] lg:text-[72px] leading-[1.05] font-extrabold tracking-tight;
  color: #2a2a2f; /* softer neutral black */
}

.text-primary {
  color: #e07a5f; /* Copper â€“ keep for CTAs or accents */
}

/* Glass primitives */
.glass-card {
  @apply rounded-3xl border border-white/60 bg-white/70 backdrop-blur-2xl shadow-[0_10px_30px_rgba(15,23,42,.12)];
}
.btn-primary {
  @apply inline-flex items-center gap-2 rounded-full bg-gray-900 px-5 py-3 text-white;
  transition:
    background-color 0.2s ease,
    transform 0.15s ease;
}
.btn-primary:hover {
  @apply bg-black;
}
.btn-primary:active {
  transform: scale(0.95);
}

.btn-on-dark {
  @apply bg-white text-gray-900;
  transition: background-color 0.2s ease;
}
.btn-on-dark:hover {
  @apply bg-gray-200;
}

.btn-glass {
  @apply inline-flex items-center gap-2 rounded-full border border-white/60 bg-white/60 px-5 py-3 backdrop-blur-xl;
  transition: background-color 0.2s ease;
}
.btn-glass:hover {
  @apply bg-white;
}

/* App Store badge */
.badge-appstore {
  @apply inline-flex items-center gap-3 rounded-[18px] border border-white/10 bg-black px-5 py-3 text-white shadow-[0_10px_30px_rgba(0,0,0,.25)];
  transition:
    transform 0.2s ease,
    box-shadow 0.2s ease;
}
.badge-appstore:hover {
  transform: translateY(-1px);
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.28);
}
.badge-appstore .lines {
  line-height: 1.05;
}
.badge-appstore .small {
  @apply block text-[11px] tracking-wide text-white/80;
}
.badge-appstore .big {
  @apply -mt-0.5 block text-[22px] font-semibold;
}

/* tiny entrance nudge for the primary CTA */
@keyframes scaleIn {
  0% {
    transform: scale(0.98);
    opacity: 0;
  }
  100% {
    transform: scale(1);
    opacity: 1;
  }
}
.animate-scale-in {
  animation: scaleIn 0.6s cubic-bezier(0.2, 0.8, 0.2, 1) both 0.2s;
}

/* traffic dots */
.dot {
  @apply inline-block size-2.5 rounded-full;
}
.dot.red {
  background: #ef4444;
}
.dot.yellow {
  background: #f59e0b;
}
.dot.green {
  background: #22c55e;
}

/* iOS-like floating tiles */
.tile {
  @apply flex size-[120px] items-center justify-center rounded-3xl border border-white/60 bg-white/70 backdrop-blur-2xl;
  box-shadow:
    0 20px 40px rgba(15, 23, 42, 0.08),
    inset 0 4px 10px rgba(255, 255, 255, 0.6),
    inset 0 -8px 16px rgba(15, 23, 42, 0.06);
}
.tile-glow {
  box-shadow:
    0 0 0 8px rgba(255, 255, 255, 0.35),
    0 20px 40px rgba(59, 130, 246, 0.25),
    inset 0 4px 10px rgba(255, 255, 255, 0.65),
    inset 0 -8px 16px rgba(15, 23, 42, 0.08);
}

/* floating badges */
.badge {
  @apply inline-flex items-center gap-2 rounded-2xl border border-white/60 bg-white/80 px-4 py-2 text-sm shadow-[0_10px_20px_rgba(15,23,42,.08)] backdrop-blur-xl;
}

/* Relationship Dashboard visuals */
.legend-dot {
  @apply inline-block size-2.5 rounded-full;
}

.node {
  @apply rounded-2xl border border-white/60 bg-white/80 px-3 py-2 backdrop-blur-xl shadow-[0_10px_20px_rgba(15,23,42,.08)] cursor-pointer;
  transition: transform 0.2s ease;
}
.node:hover {
  transform: scale(1.02);
}

.node-healthy {
  box-shadow:
    0 10px 20px rgba(16, 185, 129, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
}
.node-due {
  box-shadow:
    0 10px 20px rgba(245, 158, 11, 0.12),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
}
.node-cold {
  box-shadow:
    0 10px 20px rgba(244, 63, 94, 0.14),
    inset 0 1px 0 rgba(255, 255, 255, 0.7);
}

.node-center {
  @apply flex h-[116px] w-[116px] flex-col items-center justify-center rounded-[28px] border border-white/60 bg-white/80 backdrop-blur-2xl;
  box-shadow:
    0 20px 40px rgba(15, 23, 42, 0.08),
    inset 0 4px 10px rgba(255, 255, 255, 0.6),
    inset 0 -8px 16px rgba(15, 23, 42, 0.06);
}

@keyframes pulseSoft {
  0% {
    transform: scale(1);
    box-shadow:
      0 10px 20px rgba(244, 63, 94, 0.14),
      0 0 0 0 rgba(244, 63, 94, 0.28);
  }
  70% {
    transform: scale(1.015);
    box-shadow:
      0 10px 24px rgba(244, 63, 94, 0.18),
      0 0 0 10px rgba(244, 63, 94, 0);
  }
  100% {
    transform: scale(1);
    box-shadow:
      0 10px 20px rgba(244, 63, 94, 0.14),
      0 0 0 0 rgba(244, 63, 94, 0);
  }
}
.node-pulse {
  animation: pulseSoft 2.6s ease-in-out infinite;
}

.iphone-shell {
  position: relative;
  margin: 0 auto;
  width: min(720px, 92vw);
  height: clamp(360px, 48vw, 520px);
  border-radius: 40px;
  border: 1px solid rgba(255, 255, 255, 0.6);
  background: linear-gradient(
    180deg,
    rgba(255, 255, 255, 0.8),
    rgba(255, 255, 255, 0.6)
  );
  backdrop-filter: blur(24px);
  box-shadow:
    0 20px 50px rgba(15, 23, 42, 0.16),
    inset 0 8px 18px rgba(255, 255, 255, 0.7),
    inset 0 -12px 20px rgba(15, 23, 42, 0.06);
  overflow: hidden;
  padding: 24px;

  /* Performance optimizations */
  will-change: transform, opacity;
  contain: layout style paint;
  transform: translateZ(0); /* Force GPU layer */
}

.iphone-notch {
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  width: 160px;
  height: 26px;
  border-radius: 16px;
  background: rgba(0, 0, 0, 0.9);
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
}

.ls-card {
  display: flex;
  gap: 12px;
  align-items: center;
  border-radius: 22px;
  border: 1px solid rgba(255, 255, 255, 0.6);
  background: rgba(255, 255, 255, 0.82);
  backdrop-filter: blur(18px);
  padding: 14px 16px;
  margin-top: 58px;
}
.ls-left {
  display: flex;
}
.ls-mic {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 9999px;
  background: #0f172a;
  color: #fff;
}

.ls-bubble {
  color: #334155;
  font-size: 16px;
}

.ls-your-reply {
  margin: 14px 0 0 auto;
  max-width: 70%;
  border-radius: 18px 18px 4px 18px;
  background: #0f172a;
  color: white;
  padding: 14px 16px;
  font-size: 16px;
}

.ls-tip {
  margin: 18px auto 0;
  max-width: 70%;
  border-radius: 16px;
  border: 1px solid rgba(255, 255, 255, 0.6);
  background: rgba(255, 255, 255, 0.72);
  backdrop-filter: blur(18px);
  padding: 10px 12px;
  text-align: center;
  color: #334155;
  font-size: 14px;
}
.ls-tip-badge {
  display: inline-block;
  margin-right: 8px;
  border-radius: 8px;
  padding: 2px 8px;
  background: #0f172a;
  color: white;
  font-size: 12px;
}

/* Animated gradient for brand word "Context" */
@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}
.animate-gradient {
  background-size: 200% 200%;
  animation: gradientShift 6s ease infinite;
}

/* Gentle underline pulse under "Speak." */
@keyframes pulseSlow {
  0%,
  100% {
    opacity: 0.4;
    transform: scaleX(1);
  }
  50% {
    opacity: 1;
    transform: scaleX(1.08);
  }
}
.animate-pulse-slow {
  animation: pulseSlow 3s ease-in-out infinite;
}
/* Network animations - GPU accelerated */
@keyframes networkFloat {
  0%,
  100% {
    transform: translate(0, 0);
    opacity: 0.5;
  }
  50% {
    transform: translate(8px, 4px);
    opacity: 1;
  }
}

@keyframes networkPulse {
  0%,
  100% {
    opacity: 0.4;
    transform: scale(1);
  }
  50% {
    opacity: 0.9;
    transform: scale(1.06);
  }
}

@keyframes networkSparkle {
  0%,
  100% {
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
}

.network-layer {
  animation: networkFloat 16s ease-in-out infinite;
  will-change: transform;
}

.network-edge {
  animation: networkPulse 10s ease-in-out infinite;
  will-change: opacity;
}

.network-container {
  pointer-events: none;
}

.network-paused .network-layer,
.network-paused .network-edge,
.network-paused .network-node,
.network-paused .network-sparkle {
  animation-play-state: paused;
  opacity: 0.45;
}

.network-active .network-layer,
.network-active .network-edge,
.network-active .network-node,
.network-active .network-sparkle {
  animation-play-state: running;
}

.network-node {
  animation: networkPulse 4s ease-in-out infinite;
  will-change: transform, opacity;
}

.network-sparkle {
  animation: networkSparkle 4s ease-in-out infinite;
  will-change: opacity;
}
/* ===========================
   Step 4: Hero Animations
   =========================== */

/* Hero orbs - subtle float instead of parallax */
.hero-orb {
  position: absolute;
  border-radius: 9999px;
  filter: blur(80px);
  opacity: 0.9;
  will-change: transform;
}

.hero-orb-1,
.hero-orb-2 {
  display: none;
}

@keyframes heroOrbFloat1 {
  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }
  50% {
    transform: translate(20px, 15px) scale(1.05);
  }
}

@keyframes heroOrbFloat2 {
  0%,
  100% {
    transform: translate(0, 0) scale(1);
  }
  50% {
    transform: translate(-15px, -20px) scale(1.03);
  }
}

/* Hero content - fade in on load */
.hero-content {
  animation: heroFadeIn 0.8s cubic-bezier(0.22, 1, 0.36, 1) both;
}

@keyframes heroFadeIn {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* iPhone mock - delayed fade in with subtle lift */
.hero-iphone {
  animation: iphoneFadeIn 0.9s cubic-bezier(0.22, 1, 0.36, 1) 0.3s both;
}

@keyframes iphoneFadeIn {
  from {
    opacity: 0;
    transform: translateY(24px) scale(0.98);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Floating logos - gentle pulse */
.floating-logo {
  animation: logoFloat 4s ease-in-out infinite;
}

.floating-logo-static {
  animation: none;
}

@media (max-width: 639px) {
  .floating-logo {
    animation-duration: 10s;
  }
}

@keyframes logoFloat {
  0%,
  100% {
    transform: scale(1);
    opacity: 0.35;
  }
  50% {
    transform: scale(1.06);
    opacity: 0.42;
  }
}

/* Waitlist section - subtle entrance */
.waitlist-section {
  opacity: 1;
  transform: none;
}

.waitlist-section[data-revealed="true"] {
  animation: fadeInUp 0.6s cubic-bezier(0.22, 1, 0.36, 1) both;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Reduce motion overrides */
@media (prefers-reduced-motion: reduce) {
  .hero-orb,
  .hero-content,
  .hero-iphone,
  .floating-logo,
  .waitlist-section {
    animation: none !important;
  }

  .hero-content,
  .hero-iphone,
  .waitlist-section {
    opacity: 1;
    transform: none;
  }
}
/* iPhone internal cards - staggered entrance */
.ls-card {
  animation: cardSlideIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) 0.6s both;
}

.ls-your-reply {
  animation: cardSlideIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) 0.8s both;
}

.ls-tip {
  animation: cardSlideIn 0.6s cubic-bezier(0.22, 1, 0.36, 1) 1s both;
}

@keyframes cardSlideIn {
  from {
    opacity: 0;
    transform: translateY(8px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Disable card animations if reduced motion */
@media (prefers-reduced-motion: reduce) {
  .ls-card,
  .ls-your-reply,
  .ls-tip {
    animation: none !important;
    opacity: 1;
    transform: none;
  }
}
/* ===========================
   Step 6: Scroll Performance
   =========================== */

/* Optimize scrolling container */
html {
  scroll-behavior: smooth;
  /* Enable momentum scrolling on iOS */
  -webkit-overflow-scrolling: touch;
}

/* Reduce repaints during scroll */
body {
  /* Hint to browser about scroll-affected properties */
  will-change: scroll-position;
}

/* Main container optimizations */
.relative.min-h-screen {
  /* Contain layout calculations within this element */
  contain: layout style;
}

/* Navigation scroll performance */
nav {
  /* Separate layer for fixed nav */
  transform: translateZ(0);
  will-change: background-color, backdrop-filter;
}

/* Section containers - optimize repaints */
section {
  /* Each section gets its own paint layer */
  contain: layout paint style;
  /* Only repaint this section, not parents */
  isolation: isolate;
}

/* Fixed/absolute positioned elements */
.fixed,
.absolute {
  /* Promote to GPU layer */
  transform: translateZ(0);
}

/* Override will-change after animations complete */
.hero-content,
.hero-iphone,
.ls-card,
.ls-your-reply,
.ls-tip {
  animation-fill-mode: both;
}

/* Reset will-change after animations */
@keyframes resetWillChange {
  to {
    will-change: auto;
  }
}

.hero-content {
  animation:
    heroFadeIn 0.8s cubic-bezier(0.22, 1, 0.36, 1) both,
    resetWillChange 0s 0.9s both;
}

.hero-iphone {
  animation:
    iphoneFadeIn 0.9s cubic-bezier(0.22, 1, 0.36, 1) 0.3s both,
    resetWillChange 0s 1.3s both;
}
/* ===========================
   Step 7: Advanced Performance
   =========================== */

/* Content visibility for off-screen sections */
section {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px; /* Estimated height */
}

/* GPU acceleration hints */
.glass-card,
.tile,
.node,
.badge {
  transform: translateZ(0);
}

/* Optimize expensive properties */
nav,
.hero-orb,
.floating-logo,
.iphone-shell {
  will-change: transform;
}

/* Reset will-change after animations complete */
.hero-content,
.hero-iphone,
.ls-card,
.ls-your-reply,
.ls-tip {
  animation-fill-mode: both;
}

/* Cleanup will-change */
.hero-content {
  animation:
    heroFadeIn 0.8s cubic-bezier(0.22, 1, 0.36, 1) both,
    resetWillChange 0s 0.9s both;
}

.hero-iphone {
  animation:
    iphoneFadeIn 0.9s cubic-bezier(0.22, 1, 0.36, 1) 0.3s both,
    resetWillChange 0s 1.3s both;
}

@keyframes resetWillChange {
  to {
    will-change: auto;
  }
}

/* Contain layout calculations */
.relative.min-h-screen {
  contain: layout style;
}

/* Isolate paint layers */
section {
  isolation: isolate;
}

/* Fixed elements get GPU layers */
.fixed,
.absolute {
  transform: translateZ(0);
}

/* Optimize nav transitions */
nav {
  contain: layout style;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}

/* Reduce motion overrides for all animations */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  .hero-orb,
  .floating-logo,
  .network-layer,
  .network-edge,
  .network-node,
  .network-sparkle {
    animation: none !important;
  }
}
/* index.css (or a global stylesheet) */
#waitlist {
  scroll-margin-top: 90px; /* ~ your fixed nav height */
}
